"use strict";function _classCallCheck(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}function launchFunction(n,r,t){var e,a=[],i=n instanceof Array?n:[n,[]],c=_slicedToArray(i,2);return e=c[0],a=c[1],t[e].apply(r,a instanceof Array?a:[a])}function _analyseObject(n,r,t,e,a){var i,c="default",o=!0,l=[].slice.call(arguments);fTick.call(e),"action"in t&&launchFunction(t.action,e,a),"test"in t?(c=launchFunction(t.test,e,a).toString(),o=!("force"in t&&c!=t.force)&&o,o&&(i=t.if[c]||{action:function(){r(e)}},l[l.indexOf(t)]=i),_analyseObject.apply(this,l)):n(e)}function _analyseArray(n,r,t,e,a){for(var i,c=!1,o=t.length,l=[].concat(_toConsumableArray(t)).reverse();o--;)if(i=l[o],fTick.call(e),"action"in i&&launchFunction(i.action,e,a),"test"in i&&(c=launchFunction(i.test,e,a)),"force"in i&&!c)o++;else if(!c)break;c?n(e):r(e)}var _createClass=function(){function n(n,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(r,t,e){return t&&n(r.prototype,t),e&&n(r,e),r}}(),_slicedToArray=function(){function n(n,r){var t=[],e=!0,a=!1,i=void 0;try{for(var c,o=n[Symbol.iterator]();!(e=(c=o.next()).done)&&(t.push(c.value),!r||t.length!==r);e=!0);}catch(n){a=!0,i=n}finally{try{!e&&o.return&&o.return()}finally{if(a)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return n(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),fTick=function(){},DecisionTree=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"addTick",value:function(n){fTick=n}},{key:"decide",value:function(n,r){var t=this,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=n instanceof Array?_analyseArray:_analyseObject;return new Promise(function(i,c){r instanceof Array?r.map(function(r){a.apply(t,[i,c,n,r,e])}):a.apply(t,[i,c,n,r,e])})}}]),n}();