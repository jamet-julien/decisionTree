"use strict";function _classCallCheck(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)}function launchFunction(n,r,t){var a,e=[],i=n instanceof Array?n:[n,[]],c=_slicedToArray(i,2);return a=c[0],e=c[1],t[a].apply(r,e instanceof Array?e:[e])}function _analyseObject(n,r,t,a,e){var i,c="default",o=[].slice.call(arguments);fTick.call(a),"action"in t&&launchFunction(t.action,a,e),"test"in t?(c=launchFunction(t.test,a,e).toString(),i=t.if[c]||{action:function(){r(a)}},o[o.indexOf(t)]=i,_analyseObject.apply(this,o)):n(a)}function _analyseArray(n,r,t,a,e){for(var i,c=!1,o=t.length,l=[].concat(_toConsumableArray(t)).reverse();o--&&(i=l[o],fTick.call(a),"action"in i&&launchFunction(i.action,a,e),"test"in i&&(c=launchFunction(i.test,a,e)),c););c?n(a):r(a)}var _createClass=function(){function n(n,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(r,t,a){return t&&n(r.prototype,t),a&&n(r,a),r}}(),_slicedToArray=function(){function n(n,r){var t=[],a=!0,e=!1,i=void 0;try{for(var c,o=n[Symbol.iterator]();!(a=(c=o.next()).done)&&(t.push(c.value),!r||t.length!==r);a=!0);}catch(n){e=!0,i=n}finally{try{!a&&o.return&&o.return()}finally{if(e)throw i}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return n(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),fTick=function(){},DecisionTree=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"addTick",value:function(n){fTick=n}},{key:"decide",value:function(n,r){var t=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,e=n instanceof Array?_analyseArray:_analyseObject;return new Promise(function(i,c){r instanceof Array?r.map(function(r){e.apply(t,[i,c,n,r,a])}):e.apply(t,[i,c,n,r,a])})}}]),n}();